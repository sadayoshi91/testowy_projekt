import React from 'react';
import { Research } from '../../models/research';

export function ResearchPanel({ researches, onStart, onInvest, darkMode }: {
 researches: Research[],
 onStart: (id: string) => void,
 onInvest: (id: string) => void,
 darkMode?: boolean
}) {
 const panelStyle = {
 border: '1px solid',
 borderColor: darkMode ? '#444' : '#ccc',
 borderRadius:6,
 padding:10,
 background: darkMode ? '#232323' : '#fff',
 color: darkMode ? '#fff' : '#222',
 marginBottom:12,
 minHeight:120
 };
 const buttonStyle = {
 background: darkMode ? '#333' : '#fff',
 color: darkMode ? '#fff' : '#222',
 border: '1px solid',
 borderColor: darkMode ? '#555' : '#ccc',
 borderRadius:4,
 padding: '4px10px',
 cursor: 'pointer',
 marginTop:4
 };
 return (
 <div style={panelStyle}>
 <h3 style={{ color: darkMode ? '#fff' : '#222' }}>Research & Development</h3>
 {(!researches || researches.length ===0) ? (
 <div style={{ color: darkMode ? '#aaa' : '#777' }}>No research available</div>
 ) : (
 researches.map(research => (
 <div key={research.id} style={{ borderBottom: '1px solid', borderColor: darkMode ? '#333' : '#eee', marginBottom:8, paddingBottom:8 }}>
 <div><strong>{research.name}</strong> <small>({research.status})</small></div>
 <div style={{ fontSize:13, color: darkMode ? '#ccc' : '#555' }}>{research.description}</div>
 <div>Cost: <strong>{research.cost}</strong></div>
 <div>Duration: {research.durationDays} days</div>
 {research.unlocks && <div style={{ fontSize:12, color: '#0a0' }}>Unlocks: {research.unlocks.join(', ')}</div>}
 {research.status === 'available' && (
 <button style={buttonStyle} onClick={() => onStart(research.id)}>Start research</button>
 )}
 {research.status === 'in_progress' && (
 <button style={buttonStyle} onClick={() => onInvest(research.id)}>Invest (pay cost)</button>
 )}
 {research.status === 'completed' && <span style={{ color: '#00a' }}>Completed</span>}
 </div>
 )))}
 </div>
 );
}
