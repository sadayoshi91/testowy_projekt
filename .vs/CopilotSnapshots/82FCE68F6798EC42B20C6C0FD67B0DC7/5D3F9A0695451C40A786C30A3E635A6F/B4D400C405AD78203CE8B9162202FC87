export type Mod = {
  id: string;
  name: string;
  description?: string;
  dataFiles?: string[];
};

export async function listMods(): Promise<Mod[]> {
  if ((window as any).electronAPI?.listMods) {
    console.log('Korzystam z Electron API');
    const res = await (window as any).electronAPI.listMods();
    return res.success ? res.mods : [];
  }
  console.log('Korzystam z fetch');
  try {
    const res = await fetch('mods/index.json');
    return await res.json();
  } catch(e) {
    return [];
  }
}
